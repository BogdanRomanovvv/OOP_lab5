# Лабораторная работа №5
**Тема:** "Итераторы и аллокаторы"

## Цель
- Изучение устройства коллекций в стандартной библиотеке
- Получение навыков в использовании концепции «итератор»
- Получение навыков в использовании концепции «аллокатор»

## Порядок выполнения работы
1. Ознакомиться с теоретическим материалом.
2. Получить у преподавателя вариант задания.
3. Реализовать задание своего варианта в соответствии с поставленными требованиями.
4. Подготовить тестовые наборы данных.
5. Создать репозиторий на GitHub.
6. Отправить файлы лабораторной работы в репозиторий.
7. Отчитаться по выполненной работе путём демонстрации работающей программы на тестовых наборах данных (как подготовленных самостоятельно, так и предложенных преподавателем) и ответов на вопросы преподавателя (как из числа контрольных, так и по реализации программы).

## Требования к программе
- Реализовать наследник `std::pmr::memory_resource`, который реализует стратегию работы с памятью согласно варианту задания.
- `memory_resource` должен позволять переиспользовать освобождаемую память (освобожденную ранее с помощью `do_deallocate`)
- `memory_resource` при уничтожении должен подчищать всю неосвобожденную ранее память
- Реализовать шаблонный контейнер согласно варианту задания, который использует созданный `memory_resource` через шаблон `std::pmr::polymorphic_allocator`.
- Реализовать итератор к созданному контейнеру. Итератор должен соответствовать `std::forward_iterator_tag`.
- Создать код, демонстрирующий работу контейнера с простыми (int) и сложными типами (struct с несколькими полями)

## Условие задачи
**Стратегия работы memory_resource:**  
Динамическое выделение памяти: для каждого объекта выделяется блок памяти на куче, информация о выделенных блоках сохраняется в `std::list`.

**Контейнер:** Динамический массив (Dynamic Array)

## Структура проекта
```
OOP_lab_5/
├── README.md
├── CMakeLists.txt
├── include/
│   ├── custom_memory_resource.h
│   └── dynamic_array.h
├── src/
│   └── main.cpp
└── tests/
    ├── test_memory_resource.cpp
    └── test_dynamic_array.cpp
```

## Сборка и запуск проекта

### Требования
- C++17 или выше
- CMake 3.14+
- Компилятор с поддержкой C++17 (GCC, Clang, MSVC)

### Сборка
```bash
mkdir build
cd build

cmake ..

cmake --build .
```

### Запуск
```bash
.\lab5_app.exe
```

### Запуск тестов
```bash
.\lab5_tests.exe
```

Или через CTest:
```bash
ctest --output-on-failure
```
